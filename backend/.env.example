# Backend env vars
PORT=3001
DATABASE_URL=postgres://user:password@localhost:5432/tribitr

# Comma-separated allowlist. Example: https://tribitr.example.com,https://www.tribitr.example.com
CORS_ORIGINS=http://localhost:5173

# API rate limits (requests per 15 minutes, per IP)
API_RATE_LIMIT_MAX=300
SYNC_RATE_LIMIT_MAX=120
AI_RATE_LIMIT_MAX=20
SKIP_RATE_LIMIT_IN_DEV=true

# Extra hardening for AI endpoint
AI_REQUIRE_PROFILE_LINK=true
AI_REQUEST_TIMEOUT_MS=45000

# Progressive temporary block by IP on repeated failed attempts
FAIL_BLOCK_ENABLED=true
FAIL_BLOCK_BASE_MS=60000
FAIL_BLOCK_MAX_MS=1800000
FAIL_BLOCK_RESET_MS=3600000
FAIL_BLOCK_SYNC_THRESHOLD=8
FAIL_BLOCK_AI_THRESHOLD=5

# Security event logging (403/429)
SECURITY_ALERT_ENABLED=true
SECURITY_ALERT_SUMMARY_MS=300000
SECURITY_ALERT_SUMMARY_THRESHOLD=5

# AI provider selection
AI_PROVIDER=ollama

# Ollama Cloud
OLLAMA_API_KEY=your_ollama_api_key
OLLAMA_MODEL=gpt-oss:120b
OLLAMA_BASE_URL=https://ollama.com

# OpenAI-compatible (OpenAI/OpenRouter/Groq/Grok)
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4o-mini
OPENAI_BASE_URL=

# Gemini
GEMINI_API_KEY=your_gemini_api_key
GEMINI_MODEL=gemini-1.5-flash

# Claude
ANTHROPIC_API_KEY=your_anthropic_api_key
ANTHROPIC_MODEL=claude-3-5-haiku-20241022
